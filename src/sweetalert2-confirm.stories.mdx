import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import {
  standardConfirmOptions,
  createConfirmOptions,
  destroyConfirmOptions,
} from "./sweetalert2.js";
import * as VisualTests from "./visual-tests";
import Swal from "sweetalert2/dist/sweetalert2";

import "../css/sweetalert2.css";

<Meta title="Library Wrappers/SweetAlert2/confirm" />

<Preview>
  <Story name="standard">
    <>
      <VisualTests.StandardConfirm />
      <br />
      <button
        onClick={() => {
          Swal.fire({
            ...standardConfirmOptions,
            titleText: `This site uses cookies`,
            text: `We use cookies to store your personal preferences. Please accept use of cookies for optimal performance.`,
            confirmButtonText: `Yes, I accept cookies`,
            cancelButtonText: `No, don't use cookies`,
          });
        }}
      >
        Trigger standard confirm dialog
      </button>
    </>
  </Story>
</Preview>

<Preview>
  <Story name="create">
    <>
      <VisualTests.CreateConfirm />
      <br />
      <button
        onClick={() => {
          let user = { fullName: "John Smith", emailAddress: "jsmith@pco.bz" };
          Swal.fire({
            ...createConfirmOptions,
            titleText: `Send this Message?`,
            text: `This message will be emailed to ${user.fullName} at ${user.emailAddress} and a copy will be saved in their profile.`,
            confirmButtonText: `Yes, send it`,
            cancelButtonText: `No, don't send it`,
          });
        }}
      >
        Trigger create confirm dialog
      </button>
    </>
  </Story>
</Preview>

<Preview>
  <Story name="destroy">
    <>
      <VisualTests.DestroyConfirm />
      <br />
      <button
        onClick={() => {
          let user = { firstName: "Cathy" };
          Swal.fire({
            ...destroyConfirmOptions,
            titleText: `Delete profile?`,
            text: `Removing ${user.firstName}'s profile will delete their profile and all related activity. This cannot be undone.`,
            confirmButtonText: `Yes, keep ${user.firstName}'s profile`,
            cancelButtonText: `No, keep profile`,
          });
        }}
      >
        Trigger destroy confirm dialog
      </button>
    </>
  </Story>
</Preview>
